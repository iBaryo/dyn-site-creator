{
  "config": [
    {
      "key": "value"
    },
    {
      "multipleKeys": true,
      "key": "will override as all config objects merge to one"
    },
    {
      "userKey": "zzz",
      "secret": "xxx",
      "apiKey": "momo",
      "datacenter": "us1"
    }
  ],
  "code": [
    {
      "desc": "arrange things (default type - server)",
      "code": "(app, config) => { this.context.gigya = new require('gigya')(config.datacenter, config.apiKey); }"
    },
    {
      "type": "server",
      "desc": "make sure the site exists",
      "code": "(app, config) => this.context.gigya.doLogic()"
    },
    {
      "type": "endpoint",
      "name": "endpoint1",
      "desc": "it does things and returns a json",
      "code": "(req, config) => this.context.gigya.do(req.param1)"
    },
    {
      "type": "html",
      "name": "path/myPage.html",
      "desc": "it returns an HTML page",
      "head": [
        {
          "type": "script",
          "desc": "loading websdk",
          "code": "function(req, config) { return { attributes: { src: `http://cdn.gigya.com/js/gigya.js?apiKey${config.apiKey}` } }; }"
        },
        {
          "type": "script",
          "desc": "getting account info",
          "code": "gigya.accounts.getAccountInfo({callback:console.log});"
        },
        {
          "desc": "page title (no type - fallback to dom)",
          "code": "<title>hello world</title>"
        }
      ],
      "body": [
        {
          "type": "dom",
          "desc": "some dom elements",
          "code": "(req, config) => `<div id=\"${config.screenSetContainer}\"></div>`"
        },
        {
          "type": "websdk",
          "desc": "custom frontend component - this will show screenset",
          "code": "function(websdk, config) { websdk.accounts.showScreenSet({containerID: config.screenSetContainer}); }"
        }
      ]
    }
  ]
}